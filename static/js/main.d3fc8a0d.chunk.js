(this.webpackJsonpwhereswaldo=this.webpackJsonpwhereswaldo||[]).push([[0],{17:function(e,t,n){},45:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(4),o=n.n(c),a=n(38),r=n.n(a),i=(n(45),n(22)),s=n(12),l=n(24),u=n(9),d=(n(17),n(27)),j=(n(20),n(21),n(23)),h=n(16),b=n(2);function p(e){var t,n=Object(c.useState)(),o=Object(s.a)(n,2),a=(o[0],o[1]),r=new h.a.auth.GoogleAuthProvider;Object(c.useEffect)((function(){h.a.app().auth().onAuthStateChanged((function(e){a(e)}))}),[]);var u=(t={display:"block",float:"right",backgroundColor:"green",border:"none",color:"white",padding:"15px 32px",textAlign:"center",textDecoration:"none"},Object(j.a)(t,"display","inline-block"),Object(j.a)(t,"fontSize","16px"),Object(j.a)(t,"cursor","pointer"),t);return Object(b.jsxs)("ul",{className:"topnav",children:[Object(b.jsx)(l.b,{to:"/PhotoTagging-React-Firebase/",children:Object(b.jsx)("li",{style:{position:"absolute",left:20,top:20,fontSize:"30px",padding:"0",margin:"0"},children:"\ud83d\udd75"})}),Object(b.jsx)(l.b,{to:"/PhotoTagging-React-Firebase/",children:Object(b.jsx)("li",{children:"Home"})}),Object(b.jsx)(l.b,{to:"/PhotoTagging-React-Firebase/play",children:Object(b.jsx)("li",{children:"Play"})}),Object(b.jsxs)("li",{style:{color:"white",float:"right"},children:[e.user?e.user.displayName:"Guest"," "]}),Object(b.jsx)("img",{style:{width:50,height:50,display:"block",float:"right"},src:e.user?e.user.photoURL:"https://images.unsplash.com/photo-1583487554710-4e733a880266?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=705&q=80",alt:"user pic"}),e.user?Object(b.jsx)("button",{style:Object(i.a)(Object(i.a)({},u),{},{backgroundColor:"darkred"}),onClick:function(){h.a.app().auth().signOut().then((function(e){console.log(e)})).catch(console.log("Signout unsuccessful"))},children:"Signout"}):Object(b.jsx)("button",{style:u,onClick:function(){h.a.auth().signInWithPopup(r).then((function(e){var t=e.user;console.log(t)})).catch((function(e){return e}))},children:"Login"})]})}var x=n(33),f=n.n(x),g=n(40);function O(e){var t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}function m(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("table",{className:"container",children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Position"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Time"})]}),0===e.leaderBoard?Object(b.jsxs)("div",{className:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}):e.leaderBoard.slice(0,10).map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[0===t?"\ud83c\udfc5":null,1===t||2===t?"\ud83c\udf96":null,t+1]}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:O(e.time)})]},t)}))]})})}function y(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],o=t[1];function a(){return(a=Object(g.a)(f.a.mark((function e(){var t,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.firestore().collection("leaderBoard").get();case 2:t=e.sent,n=t.docs.map((function(e){return e.data()})),c=n.sort((function(e,t){return e.time-t.time})),o(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(e){!function(){a.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{style:{textAlign:"center",color:"white",fontSize:"20px",backgroundColor:"black",border:"solid",borderColor:"grey",padding:"20px"},children:' In this game, you left click on the locations of the characters presented to you (Link, C.Falcon, Mario Star) and choose the correct choice from the dropdown menu! Below is the leaderboard, try and complete the game fast enough to land a spot in the top 10! Press the "Play" tab to begin.'}),Object(b.jsx)("h1",{style:{textAlign:"center",color:"white",fontSize:"20px",paddingTop:"20px"},children:"LEADERBOARD"}),Object(b.jsx)("hr",{}),Object(b.jsx)(m,{leaderBoard:n})]})}var w=n.p+"static/media/Link.a53f915d.png",k=n.p+"static/media/goldenStar.50440f2d.png";function v(e){var t={width:200,height:200};return Object(b.jsxs)("div",{style:{textAlign:"center",margin:"auto",border:"3px solid white",padding:"10px",backgroundColor:"black"},children:[Object(b.jsx)("img",{img:!0,alt:"Link",style:t,src:w}),Object(b.jsx)("img",{img:!0,alt:"Falcon",style:t,src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Captain_Falcon_character_portrait.png/220px-Captain_Falcon_character_portrait.png"}),Object(b.jsx)("img",{img:!0,alt:"Star",style:t,src:k}),Object(b.jsx)("p",{style:{color:"white"},children:"FIND THESE CHARACTERS!"}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{style:{justifyContent:"center"},className:"startButton",onClick:e.Start,children:"START"})]})}function S(e){return Object(b.jsxs)("div",{class:"vertical-menu",style:e.show,children:[Object(b.jsx)("a",{className:"active",onClick:e.closeMenu,style:{cursor:"pointer"},children:"Close"}),Object(b.jsxs)("a",{style:e.foundChars.Link?{display:"none"}:{cursor:"pointer"},onClick:function(t){e.checkLocation("Link")},children:["Link",Object(b.jsx)("img",{alt:"Link",style:{height:"20px",width:"20px"},src:w})]}),Object(b.jsxs)("a",{style:e.foundChars.captainFalcon?{display:"none"}:{cursor:"pointer"},onClick:function(t){e.checkLocation("captainFalcon")},children:["Captain Falcon ",Object(b.jsx)("img",{alt:"Falcon",style:{height:"20px",width:"20px"},src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Captain_Falcon_character_portrait.png/220px-Captain_Falcon_character_portrait.png"})," "]}),Object(b.jsxs)("a",{style:e.foundChars.goldenStar?{display:"none"}:{cursor:"pointer"},onClick:function(t){e.checkLocation("goldenStar")},children:["Golden Star ",Object(b.jsx)("img",{alt:"Star",style:{height:"20px",width:"20px"},src:k})]})]})}var C=n.p+"static/media/pierre-roussel-n64phone.8e30de16.jpg";function A(e){var t={Link:!1,captainFalcon:!1,goldenStar:!1},n=Object(c.useState)(t),o=Object(s.a)(n,2),a=o[0],r=o[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],j=Object(c.useState)({display:"none"}),p=Object(s.a)(j,2),x=p[0],f=p[1],g=Object(c.useState)(20),m=Object(s.a)(g,2),y=m[0],w=m[1],k=Object(c.useState)(20),A=Object(s.a)(k,2),L=A[0],T=A[1],E=Object(c.useState)(!1),F=Object(s.a)(E,2),B=F[0],P=F[1],_=Object(c.useState)(0),R=Object(s.a)(_,2),D=R[0],I=R[1],N=h.a.firestore(),M=N.doc("users/Guest");return e.user&&(M=N.doc("users/".concat(e.user.uid))),Object(c.useEffect)((function(){h.a.app().auth().onAuthStateChanged((function(e){d(!1),P(!1)}))}),[]),Object(b.jsxs)("div",{style:{height:2800,margin:"auto",width:"50%"},children:[Object(b.jsxs)("p",{style:B?{color:"white",textAlign:"center"}:{display:"none"},children:["Congratulations! You've found all the characters with a time of ",Object(b.jsx)("x",{style:{color:"#54ff5a"},children:D}),"! "]}),Object(b.jsx)("p",{style:B?{color:"white",textAlign:"center"}:{display:"none"},children:"Press Start to play again!"}),Object(b.jsx)(S,{show:x,foundChars:a,closeMenu:function(){f({display:"none"})},checkLocation:function(n){var c=N.doc("characterLocations/".concat(n)),o=N.doc("users/Guest");e.user&&(o=N.doc("users/".concat(e.user.uid)));var i="Guest";e.user&&(i=e.user.displayName),c.get().then((function(e){if(e&&e.exists){var c=e.data();y>c.x1&&y<c.x2&&L>c.y1&&L<c.y2&&(r((function(e){return e[n]=!0,e})),Object.entries(a).every((function(e){return!0===e[1]}))&&(o.get().then((function(e){if(e&&e.exists){var t=e.data(),n=Date.now()/1e3-t.startTime;I(O(n)),function(e,t,n){var c={};c.name=t,c.time=n,N.collection("leaderBoard").doc(e).set(c).then((function(){console.log("Time sent to leaderboard!")})).catch((function(e){console.error("Error sending to leaderboard: ",e)}))}(t.uid,i,n)}})),d(!1),P(!0),r(t),document.body.scrollTop=0,document.documentElement.scrollTop=0))}})),f({display:"none"})},left:y,top:L}),u?Object(b.jsx)("img",{style:{},src:C,alt:"Pic",onClick:function(e){var t=e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop),c=e.target.getBoundingClientRect(),o=e.clientX-c.left,a=e.clientY-c.top;w(o),T(a),f({left:t,top:n,position:"absolute"})}}):Object(b.jsx)(v,{Start:function(){d(!0),M.set({startTime:Date.now()/1e3}).then((function(){}))}})]})}d.a.initializeApp({apiKey:"AIzaSyDniQaOioilx0ELmIbx4j5cWx59EQAws_4",authDomain:"wheres-waldo-5c012.firebaseapp.com",projectId:"wheres-waldo-5c012",storageBucket:"wheres-waldo-5c012.appspot.com",messagingSenderId:"651022757732",appId:"1:651022757732:web:8e760ebcfc61e8a7b4d471"});var L=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],o=t[1];function a(){return""}return Object(c.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){o(e)}))}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(p,{user:d.a.auth().currentUser}),Object(b.jsx)(u.c,{children:Object(b.jsx)(u.a,{exact:!0,path:"/PhotoTagging-React-Firebase/",render:function(e){return Object(b.jsx)(y,{})}})}),Object(b.jsx)(u.c,{children:Object(b.jsx)(u.a,{exact:!0,path:"/PhotoTagging-React-Firebase/play",render:function(e){return Object(b.jsx)(A,Object(i.a)(Object(i.a)({},e),{},{user:n,upperUserFunc:a}))}})})]})})};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.d3fc8a0d.chunk.js.map